#include "ThingSpeak.h"
#include <ESP8266WiFi.h>
const char ssid[] = "333-3";
const char pass[] = "123456789";
int statusCode = 0;
WiFiClient client;
unsigned long counterChannelNumber = 2086456;
const char * myCounterReadAPIKey = "1CHST7SLJOHHUY81";
const int FieldNumber1 = 1;
const int FieldNumber2 = 2;
void setup()
{
Serial.begin(115200);
WiFi.mode(WIFI_STA);
ThingSpeak.begin(client);
}
void loop()
{
if (WiFi.status() != WL_CONNECTED)
{
Serial.print("Connecting to ");
Serial.print(ssid);
Serial.println(" ....");
while (WiFi.status() != WL_CONNECTED)
{
WiFi.begin(ssid, pass);
delay(5000);
}
Serial.println("Connected to Wi-Fi Succesfully.");
}
long temp = ThingSpeak.readLongField(counterChannelNumber, FieldNumber1,myCounterReadAPIKey);
statusCode = ThingSpeak.getLastReadStatus();
if (statusCode == 200)
{
Serial.print("Temperature: ");
Serial.println(temp);
}
else
{
Serial.println("Unable to read channel / No internet connection");
}
delay(100);
long humidity = ThingSpeak.readLongField(counterChannelNumber, FieldNumber2,myCounterReadAPIKey);
statusCode = ThingSpeak.getLastReadStatus();
if (statusCode == 200)
{
Serial.print("Humidity: ");
Serial.println(humidity);
}
else
{
Serial.println("Unable to read channel / No internet connection");
}
delay(100);

}
